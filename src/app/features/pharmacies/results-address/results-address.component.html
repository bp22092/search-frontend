<ng-container *ngIf="loading">
  <div class="flex flex-col items-center">
    <div class="loading loading-spinner loading-lg mt-40"></div>
    <div class="text-base leading-6 font-normal mt-20">{{ todofuken }}{{ shikuchoson }}の薬局を検索しています</div>
  </div>
</ng-container>
<ng-container *ngIf="!loading">
  <div class="mb-8">
    <h2 class="text-xl leading-7 font-normal">{{ todofuken }}{{ shikuchoson }}の医療機関</h2>
    <div class="text-sm leading-5 font-normal" *ngIf="totalItems > 0; else noItems">
      {{ totalItems }}件の医療機関が見つかりました。
    </div>
    <ng-template class="text-sm leading-5 font-normal" #noItems>医療機関は見つかりませんでした。</ng-template>
  </div>
  <ul class="flex flex-col space-y-4">
    <li *ngFor="let pharmacy of pharmacies" class>
      <app-pharmacy-card [pharmacy]="pharmacy"></app-pharmacy-card>
    </li>
  </ul>
  <div class="join mt-3 flex justify-center">
    <ng-container *ngIf="totalPages < 4">
      <button *ngFor="let page of pageList" class="join-item btn" [class.btn-active]="currentPage === page" (click)="pager(page)">{{ page }}</button>
    </ng-container>
    <ng-container *ngIf="totalPages >= 4">
      <button *ngIf="currentPage > 2" class="join-item btn" (click)="pager(1)">1</button>
      <button *ngIf="currentPage > 3" class="join-item btn btn-disabled">...</button>
      <button *ngIf="currentPage > 1" class="join-item btn" (click)="pager(currentPage - 1)">{{ currentPage - 1 }}</button>
      <button class="join-item btn btn-active" (click)="pager(currentPage)">{{ currentPage }}</button>
      <button *ngIf="totalPages - currentPage > 1" class="join-item btn" [class.selected]="" (click)="pager(currentPage + 1)">{{ currentPage + 1 }}</button>
      <button *ngIf="totalPages - currentPage > 2" class="join-item btn btn-disabled">...</button>
      <button *ngIf="totalPages - currentPage > 0" class="join-item btn" (click)="pager(totalPages)">{{ totalPages }}</button>
    </ng-container>
  </div>
</ng-container>
